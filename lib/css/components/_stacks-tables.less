//
//  STACK OVERFLOW
//  TABLES
//
//  This CSS comes from Stacks, our CSS & Pattern library for rapidly building
//  Stack Overflow. For documentation of all these classes and how to contribute,
//  visit https://stackoverflow.design/
//
//  TABLE OF CONTENTS
//  • BASE TABLE STYLE
//  • TABLE ALIGNMENT
//    - Vertical alignment
//    - Text alignment
//  • LAYOUT VARIATIONS
//    - Stripes
//    - Spacing
//    - Borders
//    - Backgrounds
//    - Totals row
//    - Sortable tables
//  • TABLE CELL SIZES
//
//  ============================================================================
//  $    BASE TABLE STYLE
//  ----------------------------------------------------------------------------
.s-table-container {
    overflow-x: auto;
    border-radius: @br-sm; // Controls overflow of rounded corners
    @scrollbar-styles();
}

.s-table {
    display: table;
    width: 100%;
    max-width: 100%;
    border-spacing: 0;
    padding: 1px; // Allow room for borders to render
    font-size: @fs-body1;

    th,
    td {
        box-shadow: 0 0 0 1px var(--black-100);
        padding: @su8;
        background-color: var(--white);

        vertical-align: middle;
        color: var(--fc-medium);
        text-align: left;

        &.s-table--bulk {
            width: @su32 - @su2;
        }

        .s-checkbox {
            display: block;
        }
    }

    th {
        font-weight: bold;
        color: var(--fc-dark);
    }

    // Header overrides
    thead {
        th {
            vertical-align: bottom;
            white-space: nowrap;
            background-color: var(--black-025);
            line-height: @lh-sm;
            text-transform: uppercase;
            letter-spacing: 0.05em;

            &:not(.s-table--bulk) {
                font-size: @fs-fine;
            }
        }

        tr {
            th:first-of-type {
                border-top-left-radius: @br-sm;
            }

            th:last-of-type {
                border-top-right-radius: @br-sm;
            }
        }
    }

    // Body overrides
    tbody {
        tr:last-of-type {
            td:first-child,
            th:first-child {
                border-bottom-left-radius: @br-sm;
            }

            td:last-child,
            th:last-child {
                border-bottom-right-radius: @br-sm;
            }
        }

        // Round the table if there's only one row without headers
        tr:only-child {
            td:first-child,
            th:first-child {
                border-top-left-radius: @br-sm;
                border-bottom-left-radius: @br-sm;
            }

            td:last-child,
            th:last-child {
                border-top-right-radius: @br-sm;
                border-bottom-right-radius: @br-sm;
            }
        }

        th {
            font-weight: normal;
        }
    }
}

//  ============================================================================
//  $    ALIGNMENTS
//  ----------------------------------------------------------------------------
.s-table {
    //  $$  VERTICAL ALIGNMENT
    //      This applies vertical alignment classes to all of a table's cells.
    //  ------------------------------------------------------------------------
    //  --  TOP
    &.va-top {
        th,
        td {
            vertical-align: top;
        }
    }

    //  --  MIDDLE
    &.va-middle {
        th,
        td {
            vertical-align: middle;
        }
    }

    //  --  BOTTOM
    &.va-bottom {
        th,
        td {
            vertical-align: bottom;
        }
    }

    //  $$  TEXT ALIGNMENT
    //      This applies the text alignment classes to all of a table's cells.
    //  ------------------------------------------------------------------------
    //  --  LEFT ALIGN
    &.ta-left {
        th,
        td {
            text-align: left;
        }
    }

    //  --  CENTER ALIGN
    &.ta-center {
        th,
        td {
            text-align: center;
        }
    }

    //  --  RIGHT ALIGN
    &.ta-right {
        th,
        td {
            text-align: right;
        }
    }

    //  --  JUSTIFY ALIGN
    &.ta-justify {
        th,
        td {
            text-align: justify;
        }
    }
}

//  ============================================================================
//  $    LAYOUT VARIATIONS
//  ----------------------------------------------------------------------------
.s-table {
    //  $$  STRIPES
    //  ------------------------------------------------------------------------
    &.s-table__stripes {
        // Add in stripes
        tbody tr:nth-child(even) td,
        tbody tr:nth-child(even) th {
            background-color: var(--black-025);
        }
    }

    //  $$  SPACING
    //  ------------------------------------------------------------------------
    //  --  SMALL
    &.s-table__sm {
        th,
        td {
            padding: @su4;
        }
    }
    //  --  LARGE
    &.s-table__lg {
        th,
        td {
            padding: @su12;
        }
    }

    //  $$  BORDERS
    //  ------------------------------------------------------------------------
    //  --  No Borders
    &.s-table__b0 {
        th,
        td {
            box-shadow: none;
        }

        //  Clear Header Styles
        thead th {
            background-color: var(--white);
            text-transform: initial;
            font-size: inherit;
            letter-spacing: initial;
        }
    }

    //  --  Horizontal Only with Table Outline
    &.s-table__bx {
        th,
        td {
            box-shadow: 0 -1px var(--black-100), 0 1px var(--black-100);
        }

        // Header overrides
        thead {
            tr {
                th:first-of-type {
                    box-shadow: 0 -1px var(--black-100), 0 1px var(--black-100), -1px 0 var(--black-100);
                }

                th:last-of-type {
                    box-shadow: 0 -1px var(--black-100), 1px 0 var(--black-100), 0 1px var(--black-100);
                }
            }
        }

        // Body overrides
        tbody {
            tr {
                th:first-child,
                td:first-child {
                    box-shadow: 0 -1px var(--black-100), 0 1px var(--black-100), -1px 0 var(--black-100);
                }

                th:last-child,
                td:last-child {
                    box-shadow: 0 -1px var(--black-100), 1px 0 var(--black-100), 0 1px var(--black-100);
                }
            }
        }
    }

    //  --  Horizontal Only without Table Outline
    &.s-table__bx-simple {
        th,
        td {
            box-shadow: 0 -1px var(--black-100), 0 1px var(--black-100);
        }
        thead th {
            box-shadow: 0 1px var(--black-100);

            //  Clear Header Styles
            background-color: var(--white);
            text-transform: initial;
            font-size: inherit;
            letter-spacing: initial;
        }
        tbody tr {
            &:last-of-type th,
            &:last-of-type td {
                box-shadow: 0 -1px var(--black-100);
            }
        }
        tfoot th,
        tfoot td {
            box-shadow: 0 -1px var(--black-100), 1px 0 var(--black-100), -1px 0 var(--black-100);
        }
    }

    //  $$  TOTALS ROW
    //  ------------------------------------------------------------------------
    .s-table--totals {
        th,
        td {
            padding-top: @su12;
            font-size: @fs-subheading;
            font-weight: bold;
        }
    }

    //  $$  Sortable Table Columns
    //  ------------------------------------------------------------------------
    &.s-table__sortable thead th {
        color: var(--fc-light);
        cursor: pointer;

        //  If an anchor is used, it should appear like a normal header
        a {
            color: inherit;
        }

        //  Slightly align the icon
        .svg-icon {
            position: relative;
            bottom: -1px;
        }

        //  Selected state
        &.is-sorted {
            color: var(--black-900);
        }
    }

    //  $$  Progress Bar
    //  ------------------------------------------------------------------------
    td.s-table--progress {
        box-shadow: 0 -1px var(--black-100), -1px 0 var(--black-100), 0 1px var(--black-100);
        text-align: right;
    }

    td.s-table--progress-bar {
        box-shadow: 0 -1px var(--black-100), 1px 0 var(--black-100), 0 1px var(--black-100);
        padding-left: 0;
        width: 120px;
    }

    //  $$  Disabled rows
    //  ------------------------------------------------------------------------
    tr.is-disabled {
        th,
        td {
            background-color: var(--black-025);
        }

        th:not(.is-enabled),
        td:not(.is-enabled) {
            color: var(--black-300);
        }
    }

    //  $$  Responsive
    //  ------------------------------------------------------------------------
    &.s-table__sticky-first {
        th:first-child,
        td:first-child {
            position: sticky;
            left: 0;

            // Improve Firefox column placement
            @supports (-moz-appearance:none) {
                left: 1px;
            }
        }
    }

    &.s-table__sticky-last {
        th:last-child,
        td:last-child {
            position: sticky;
            right: 0;

            // Improve Firefox column placement
            @supports (-moz-appearance:none) {
                right: 1px;
            }
        }
    }
}

//  ============================================================================
//  $  TABLE CELL SIZES
//  ============================================================================
//  $$  General Column Sizes
//  ----------------------------------------------------------------------------
@table-columns: 100% / 12;

.s-table--cell1     { width: @table-columns * 1; }
.s-table--cell2     { width: @table-columns * 2; }
.s-table--cell3     { width: @table-columns * 3; }
.s-table--cell4     { width: @table-columns * 4; }
.s-table--cell5     { width: @table-columns * 5; }
.s-table--cell6     { width: @table-columns * 6; }
.s-table--cell7     { width: @table-columns * 7; }
.s-table--cell8     { width: @table-columns * 8; }
.s-table--cell9     { width: @table-columns * 9; }
.s-table--cell10    { width: @table-columns * 10; }
.s-table--cell11    { width: @table-columns * 11; }
.s-table--cell12    { width: @table-columns * 12; }
